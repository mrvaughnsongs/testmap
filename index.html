<div style="position: relative; width: 1024px; height: auto;">
  <!-- Map image -->
  <img id="base-map" src="https://mrvaughnsongs.wordpress.com/wp-content/uploads/2025/03/1024px-blank_map_of_the_united_states48states.png" 
       width="1024" style="display: block; position: absolute; top: 0; left: 0; z-index: 1;" />

  <!-- SVG overlay -->
  <svg id="map-overlay" width="1024" height="640" viewBox="0 0 1024 640" 
       style="position: absolute; top: 0; left: 0; z-index: 2; pointer-events: none;">
    <polygon id="area1" data-name="CNN" points="271,161 387,175 380,270 255,256"
      fill="transparent" stroke="black" stroke-width="2"/>
    <polygon id="area2" data-name="VAUGHN" points="275,356 391,368 379,489 309,482 306,488 275,484 274,497 256,492"
      fill="transparent" stroke="black" stroke-width="2"/>
  </svg>
</div>

<button onclick="submitAnswer()" style="margin-top: 20px;">Submit Answer</button>

<script>
  const quizId = "quiz1";
  const correctAnswer = "CNN";
  let selected = null;

  const polygons = document.querySelectorAll('polygon');
  polygons.forEach(polygon => {
    polygon.style.pointerEvents = 'auto';

    polygon.addEventListener('mouseover', () => {
      if (polygon !== selected) polygon.style.fill = 'rgba(0, 255, 0, 0.4)';
    });

    polygon.addEventListener('mouseout', () => {
      if (polygon !== selected) polygon.style.fill = 'transparent';
    });

    polygon.addEventListener('click', () => {
      if (selected) selected.style.fill = 'transparent';
      polygon.style.fill = 'rgba(255, 165, 0, 0.6)';
      selected = polygon;
    });
  });

  function submitAnswer() {
    if (!selected) {
      alert("Please select an area first.");
      return;
    }
    const selectedName = selected.getAttribute('data-name');
    const isCorrect = (selectedName === correctAnswer);

    localStorage.setItem(quizId + "_answer", selectedName);
    localStorage.setItem(quizId + "_score", isCorrect ? 1 : 0);
    window.open("quiz2.html", "_blank"); // opens next quiz in a new window/tab
  }
</script>

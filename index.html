<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quiz Map</title>
  <style>
    .clickable { cursor: pointer; }
    .highlight { fill: rgba(0, 255, 0, 0.3); }
    .clicked-correct { fill: rgba(0, 255, 0, 0.7); } /* Color for correct answer after click */
    .clicked-wrong { fill: rgba(255, 0, 0, 0.7); } /* Color for wrong answer after click */
  </style>
</head>
<body>
  <h2>Quiz Map: Select the correct area</h2>
  
  <!-- Map Image (background) -->
  <img src="https://mrvaughnsongs.wordpress.com/wp-content/uploads/2025/03/1024px-blank_map_of_the_united_states48states.png" width="1024" height="660" alt="Map" id="map-image" usemap="#image-map">

  <!-- Image Map with clickable areas -->
  <map name="image-map">
    <!-- Area 1: Correct answer -->
    <area class="clickable" shape="poly" coords="271,161,387,175,380,270,255,256" alt="CNN" title="CNN" data-answer="correct">

    <!-- Area 2: Incorrect answer -->
    <area class="clickable" shape="poly" coords="275,356,391,368,379,489,309,482,306,488,275,484,274,497,256,492" alt="VAUGHN" title="VAUGHN" data-answer="wrong">
  </map>

  <br><br>

  <!-- Button to submit the answers -->
  <button onclick="submitQuiz()">Submit Quiz</button>

  <script>
    let score = 0;
    let areasClicked = 0; // Track how many areas have been clicked

    // Function to handle area clicks
    document.querySelectorAll('.clickable').forEach(area => {
      area.addEventListener('click', function(event) {
        // Prevent the default behavior (which would follow the link)
        event.preventDefault();

        // If the area hasn't been clicked already
        if (!area.classList.contains('clicked')) {
          areasClicked++; // Increase count of clicked areas
          area.classList.add('clicked'); // Mark the area as clicked

          // Check if the selected area is correct or wrong
          if (area.getAttribute('data-answer') === "correct") {
            score++;
            area.classList.add('clicked-correct'); // Apply color for correct selection
          } else {
            area.classList.add('clicked-wrong'); // Apply color for incorrect selection
          }
        }
      });

      // Highlight area on mouseover
      area.addEventListener('mouseover', function() {
        if (!area.classList.contains('clicked')) {
          area.style.fill = "rgba(0, 255, 0, 0.3)"; // Highlight on hover
        }
      });

      // Remove highlight on mouseout
      area.addEventListener('mouseout', function() {
        if (!area.classList.contains('clicked')) {
          area.style.fill = ""; // Reset fill color
        }
      });
    });

    // Submit quiz and open a new window with the score
    function submitQuiz() {
      // Only show score if at least one area has been clicked
      if (areasClicked > 0) {
        // Open a new window
        let scoreWindow = window.open("", "_blank", "width=400,height=300");
        
        // Write the score to the new window
        scoreWindow.document.write("<h3>Your Score: " + score + "</h3>");
      } else {
        alert("Please select at least one area before submitting!");
      }
    }
  </script>
</body>
</html>
